import { Meta, Source, Canvas, ArgTypes } from '@storybook/addon-docs/blocks';
import basicExample from './examples/basic.code?raw';
import * as Primary from './examples/primary.stories';
import { DummyComponentReturn } from './examples/DummyComponent';

<Meta title="core/hooks/useLightColor" />

# useLightColor()
###### `useLightColor(entity: HassEntityWithService<"light">): UseLightColorReturn`

The `useLightColor` hook in the provided code is a custom React hook that calculates various color-related properties of a light entity in a Home Assistant environment.

Here's a detailed description:

- **Logic**:
  - **warmWhite**: Calculates the warm white component of the light if the light is on and in RGBWW color mode. It converts the RGBWW color value to a percentage and then back to a 0-255 scale.
  - **currentRgbColor**: Retrieves the current RGB color of the light using the getLightCurrentModeRgbColor function.
  - **colorBrightness**: Calculates the brightness of the light's color component if the light is on. It finds the maximum value among the RGB components, converts it to a percentage, and then back to a 0-255 scale.
  - **hs**: Converts the RGB color to hue and saturation values if the light is on.
- **Memoization**: The hook uses useMemo to memoize the calculated values, ensuring that they are only recalculated when the relevant dependencies (entity and currentRgbColor) change. This improves performance by avoiding unnecessary recalculations.

This hook is useful for managing and displaying various color-related properties of a light in a React component, ensuring efficient updates and calculations based on the light's state and attributes.

### Example Usage

<Source dark code={basicExample} />

#### Outputs

<Canvas of={Primary.PrimaryExample} />

### Return Value
The hook returns an object containing several properties related to the light's color and brightness:
<ArgTypes of={DummyComponentReturn} />