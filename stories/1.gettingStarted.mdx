import { Meta } from '@storybook/blocks';

<Meta title="INTRODUCTION/Getting Started" />

# Overview
This [package](https://www.npmjs.com/package/ha-component-kit) was built to make it easy to authenticate and use your home assistant devices in a custom build react dashboard, this uses the official [Home Assistant Web Socket](https://github.com/home-assistant/home-assistant-js-websocket) technology used by the home assistant dashboards you're used to using!
Once logged in, the token will refresh and you'll never have to login again on that device unless you clear your browser cache / local storage.

## Quick test
There's a [Playground](/story/introduction-test-connection--playground) tool that will integrate with your home assistant instance, this will give you a simple interface of all the available services and entities with their respective actions where you can test
the connection right here without installing anything.

## Simple Installation Steps
Install the [package](https://www.npmjs.com/package/ha-component-kit) in your react project

```bash
  npm i ha-component-kit
```

Then simply wrap your root component (usally App.tsx) with the [HassConnect](/docs/components-hassconnect--docs) component, don't forget to include the "ThemeProvider" to get the default theme.

```tsx
import React from 'react';
import { createRoot } from 'react-dom/client';
import { HassConnect, ThemeProvider } from 'ha-component-kit';
// TODO: replace this with your home assistant url
const HASS_URL = 'http://localhost:8123';
function App() {
  return <HassConnect hassUrl={HASS_URL}>
    <ThemeProvider />
    <p>Will render when connected!</p>
  </HassConnect>
}

const root = createRoot(document.getElementById('root'));

root.render(<App />);
```

When you run/build your server you should see a familiar home assistant login form, login with your normal credentials and you should see your components within the HassConnect component render, this means
we've authenticated successfully.

Now you can use all the other functionality such as [useApi()](/docs/hooks-useapi--docs)!


## From Scratch
This isn't a "how to learn react" kinda tutorial, however to get this up and running in it's simplest form, replace "dashboard" with your folder name / project name.

```bash
  npx create-react-app dashboard --template typescript
```

Once the above is complete, the terminal will show you steps on how to run it / use it.

```cd dashboard && npm i home-assistant-js-websocket ha-component-kit react react-dom```

Open src/App.tsx and replace this with the following:

**TIP:** Make sure you replace the HASS_URL with the url to your home assistant instance.


```ts
import React from 'react';
import logo from './logo.svg';
import { HassConnect } from 'ha-component-kit';
import './App.css';
// TODO: replace this with your home assistant url:
const HASS_URL = 'http://localhost:8123';

function App() {
  return (
    <HassConnect hassUrl={HASS_URL}>
      <ThemeProvider />
      <div className="App">
        <header className="App-header">
          <img src={logo} className="App-logo" alt="logo" />
          <p>
            Edit <code>src/App.tsx</code> and save to reload.
          </p>
          <a
            className="App-link"
            href="https://reactjs.org"
            target="_blank"
            rel="noopener noreferrer"
          >
            Learn React
          </a>
        </header>
      </div>
    </HassConnect>
  );
}

export default App;

```

Now we can run `npm start` in the terminal, once it launches if you've entered your homeassistant url correctly you should see a familiar home assistant login form, login with your normal credentials and you should see your components within the HassConnect component render, this means
we've authenticated successfully.
