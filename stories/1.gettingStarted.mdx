import { Meta } from '@storybook/blocks';

<Meta title="INTRODUCTION/Getting Started" />

# Overview
The [@hakit/core](https://www.npmjs.com/package/@hakit/core) provides all the core functionality to authenticate with Home Assistant to create a dynamic dashboard with React! There's also reusable components for creating custom dashboards for Home Assistant using react, this is a separate package to [@hakit/components](https://www.npmjs.com/package/@hakit/components), this uses the official [Home Assistant Web Socket](https://github.com/home-assistant/home-assistant-js-websocket) technology used by the home assistant dashboards you're used to using!
Once logged in, the token will refresh and you'll never have to login again on that device unless you clear your browser cache / local storage.

## Quick test
There's a [Playground](/story/introduction-test-connection--playground) tool that will integrate with your home assistant instance, this will give you a simple interface of all the available services and entities with their respective actions where you can test
the connection right here without installing anything.

## Simple Installation Steps
Install the [@hakit/core](https://www.npmjs.com/package/@hakit/core) for all authentication and react hooks, this is the all the core functionality you'll need, if you want to use some of the components I've built, also install [@hakit/components](https://www.npmjs.com/package/@hakit/components):

```bash
  npm i @hakit/core @hakit/components
```

***Note: This package uses peerDependencies, npm version 4-6 will not install these automatically, you will need to install them [manually](https://stackoverflow.com/questions/35207380/how-to-install-npm-peer-dependencies-automatically), npm version 7 and above will handle this automatically.***

Then simply wrap your root component (usally App.tsx) with the [HassConnect](/docs/components-hassconnect--docs) component, don't forget to include the "ThemeProvider" to get the default theme.

```tsx
import React from 'react';
import { createRoot } from 'react-dom/client';
import { HassConnect } from '@hakit/core';
import { ThemeProvider } from '@hakit/components';
// TODO: replace this with your home assistant url
const HASS_URL = 'http://localhost:8123';
function App() {
  return <HassConnect hassUrl={HASS_URL}>
    <ThemeProvider />
    <p>This will render when connected!</p>
  </HassConnect>
}

const root = createRoot(document.getElementById('root'));

root.render(<App />);
```

When you run/build your server you should see a familiar home assistant login form, login with your normal credentials and you should see your components within the HassConnect component render, this means
we've authenticated successfully.

Now you can use all the other functionality such as [useApi()](/docs/hooks-useapi--docs)!


## From Scratch
This isn't a "how to learn react" kinda tutorial, however to get this up and running in it's simplest form, replace "dashboard" with your folder name / project name.

```bash
  npx create-react-app dashboard --template typescript
```

Once the above is complete, the terminal will show you steps on how to run it / use it.

```bash
  cd dashboard && npm i @hakit/core @hakit/components
```

Open src/App.tsx and replace this with the following:

**TIP:** Make sure you replace the HASS_URL with the url to your home assistant instance.


```ts
// App.tsx
import React from 'react';
import { HassConnect } from '@hakit/core';
import './App.css';
// TODO: replace this with your home assistant url:
const HASS_URL = 'http://localhost:8123';

function App() {
  return (
    <HassConnect hassUrl={HASS_URL}>
      <p>This will render when connected!</p>
    </HassConnect>
  );
}

export default App;

```

Now once you run your application, you should be prompted to login with Home Assistant, and then redirected to your custom dashboard!
